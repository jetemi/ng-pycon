{% extends base_template %}
{% load static %}

{% block title %}Payment - {{ application.user.get_full_name|default:application.user.email }} - PyCon Nigeria {{ conference_year }}{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-gray-50 to-gray-100">

    <section class="py-12 px-4">
        <div class="max-w-2xl mx-auto">

            <a href="{% url 'grants:finance_list' %}" class="text-sm text-teal-600 hover:text-teal-700 font-medium mb-6 inline-block">
                ← Back to Payment List
            </a>

            <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6 md:p-8 mb-6">
                <h1 class="text-2xl font-bold text-gray-900 mb-2">{{ application.user.get_full_name|default:application.user.email }}</h1>
                <p class="text-gray-500 text-sm mb-4">{{ application.user.email }}</p>
                <p class="text-lg font-semibold text-teal-600">Approved: ₦{{ application.approved_amount|floatformat:2|default:application.total_requested }}</p>
            </div>

            <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6 md:p-8">
                <h2 class="text-lg font-bold text-gray-900 mb-4">Update Payment Status</h2>
                <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="space-y-4">
                        <div>
                            <label for="id_payment_status" class="block text-sm font-medium text-gray-700 mb-1">Payment Status</label>
                            {{ form.payment_status }}
                        </div>
                        <div>
                            <label for="id_amount_paid" class="block text-sm font-medium text-gray-700 mb-1">Amount Paid (₦)</label>
                            {{ form.amount_paid }}
                        </div>
                        <div>
                            <label for="id_reference" class="block text-sm font-medium text-gray-700 mb-1">Transaction Reference</label>
                            {{ form.reference }}
                        </div>
                        <div>
                            <label for="id_receipt" class="block text-sm font-medium text-gray-700 mb-1">Upload Receipt</label>
                            {{ form.receipt }}
                        </div>
                    </div>
                    <button type="submit" class="mt-6 w-full py-2 px-4 bg-teal-600 hover:bg-teal-700 text-white font-semibold rounded-lg">
                        Save
                    </button>
                </form>
            </div>

        </div>
    </section>

</div>
{% endblock %}
